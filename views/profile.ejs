<div class="profile-page">
  <header class="profile-header">
    <div class="profile-avatar">
      <img src="<%= user.avatar || '/images/default-avatar.png' %>" alt="<%= user.username %>">
    </div>
    <div class="profile-info">
      <h2><%= user.username %></h2>
      <p class="profile-role"><i class="fa-solid fa-user-shield"></i> <%= user.role %></p>
      <p class="profile-joined">Joined: <%= user.created_at.toDateString() %></p>
    </div>
  </header>

  <section class="profile-bio">
    <h3>ğŸ“ Bio</h3>
    <p><%= user.bio || 'No bio provided yet.' %></p>
  </section>

  <section class="profile-stats">
    <h3>ğŸ“Š Activity</h3>
    <ul>
      <li><strong>Messages Posted:</strong> <%= user.message_count %></li>
      <li><strong>Last Active:</strong> <%= user.last_active ? user.last_active.toDateString() : 'N/A' %></li>
    </ul>
  </section>

  <section class="profile-actions">
    <% if (currentUser && currentUser.id === user.id) { %>
      <a href="/edit-profile" class="btn edit-btn"><i class="fa-solid fa-pen-to-square"></i> Edit Profile</a>
    <% } %>
    <% if (currentUser && currentUser.role === 'admin' && currentUser.id !== user.id) { %>
      <form action="/delete-user/<%= user.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this user?')">
        <button type="submit" class="btn delete-btn"><i class="fa-solid fa-trash"></i> Delete User</button>
      </form>
    <% } %>
  </section>
</div>
